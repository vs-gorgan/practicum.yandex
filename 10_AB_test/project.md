# Описание проекта

Вы работаете в стартапе, который продаёт продукты питания. Нужно разобраться, как ведут себя пользователи вашего мобильного приложения.

Изучите воронку продаж. Узнайте, как пользователи доходят до покупки. Сколько пользователей доходит до покупки, а сколько — «застревает» на предыдущих шагах? На каких именно?

После этого исследуйте результаты A/A/B-эксперимента. Дизайнеры захотели поменять шрифты во всём приложении, а менеджеры испугались, что пользователям будет непривычно. Договорились принять решение по результатам A/A/B-теста. Пользователей разбили на 3 группы: 2 контрольные со старыми шрифтами и одну экспериментальную — с новыми. Выясните, какой шрифт лучше.

Создание двух групп A вместо одной имеет определённые преимущества. Если две контрольные группы окажутся равны, вы можете быть уверены в точности проведенного тестирования. Если же между значениями A и A будут существенные различия, это поможет обнаружить факторы, которые привели к искажению результатов. Сравнение контрольных групп также помогает понять, сколько времени и данных потребуется для дальнейших тестов.

В случае общей аналитики и A/A/B-эксперимента работайте с одними и теми же данными. В реальных проектах всегда идут эксперименты. Аналитики исследуют качество работы приложения по общим данным, не учитывая принадлежность пользователей к экспериментам.

**Описание данных**

Каждая запись в логе — это действие пользователя, или событие.

- `EventName` — название события;
- `DeviceIDHash` — уникальный идентификатор пользователя;
- `EventTimestamp` — время события;
- `ExpId` — номер эксперимента: 246 и 247 — контрольные группы, а 248 — экспериментальная.

### 1. Откройте файл с данными и изучите общую информацию
```
# импортируем библиотеку обработки и анализа структурированных данных
import pandas as pd
pd.set_option('display.max_colwidth', None)

# импортируем библиотеку для визуализации данных двумерной и трёхмерной графикой
import matplotlib.pyplot as plt

# импортируем библиотеку библиотеку для визуализации данных
# https://habr.com/ru/company/otus/blog/588190/?ysclid=la5ka4qvdj473949173
import plotly.graph_objects as go
import plotly.express as px

# импортируем библиотеку математических вычислений
import numpy as np

# импортируем модуль для работы с датой и временем
import datetime as dt

# импортируем статистические функции
import scipy.stats as stats

# импортируем библиотеку для создания статистических графиков
import seaborn as sns

# импортируем библиотеку с математическими функциями
import math as mth
```
```
# данные из файла logs_exp сохраним в переменную df, установим разделитель \
df = pd.read_csv('/datasets/logs_exp.csv', sep='\t')
```
```
# посмотрим датафрейм
df
```
|        |               EventName |        DeviceIDHash | EventTimestamp | ExpId |
|-------:|------------------------:|--------------------:|---------------:|------:|
|    0   | MainScreenAppear        | 4575588528974610257 | 1564029816     | 246   |
|    1   | MainScreenAppear        | 7416695313311560658 | 1564053102     | 246   |
|    2   | PaymentScreenSuccessful | 3518123091307005509 | 1564054127     | 248   |
|    3   | CartScreenAppear        | 3518123091307005509 | 1564054127     | 248   |
|    4   | PaymentScreenSuccessful | 6217807653094995999 | 1564055322     | 248   |
|   ...  | ...                     | ...                 | ...            | ...   |
| 244121 | MainScreenAppear        | 4599628364049201812 | 1565212345     | 247   |
| 244122 | MainScreenAppear        | 5849806612437486590 | 1565212439     | 246   |
| 244123 | MainScreenAppear        | 5746969938801999050 | 1565212483     | 246   |
| 244124 | MainScreenAppear        | 5746969938801999050 | 1565212498     | 246   |
| 244125 | OffersScreenAppear      | 5746969938801999050 | 1565212517     | 246   |

`244126 rows × 4 columns`
```
df.info()
```
```
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 244126 entries, 0 to 244125
Data columns (total 4 columns):
 #   Column          Non-Null Count   Dtype 
---  ------          --------------   ----- 
 0   EventName       244126 non-null  object
 1   DeviceIDHash    244126 non-null  int64 
 2   EventTimestamp  244126 non-null  int64 
 3   ExpId           244126 non-null  int64 
dtypes: int64(3), object(1)
memory usage: 7.5+ MB
```
Получили почти 250 тыс строк. Требуется переименование колонок, изменене типов данных.

### 2. Подготовьте данные

**2.1  Замените названия столбцов на удобные для вас**
```
df = df.rename(columns = {'EventName': 'event', 'DeviceIDHash': 'user_id', 'EventTimestamp': 'event_time', 'ExpId': 'group'})
```
**2.2  Проверьте пропуски и типы данных. Откорректируйте, если нужно**
```
# посмотрим пропуски
df.isna().sum()
```
```
event         0
user_id       0
event_time    0
group         0
dtype: int64
```
Пропуски отсутствуют.
```
# подсчёт явных дубликатов
df.duplicated().sum()
```
`413`
Присутствуют задублированные строки. Удалим их
```
# удаление явных дубликатов
df = df.drop_duplicates()
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
