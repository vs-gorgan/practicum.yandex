Допустим, заказчик попросил ответить на несколько вопросов:

- Как изменяются доходы со временем?
- Падает ли количество кредитов в зависимости от количества детей у заёмщика?
- Влияет ли образование на уровень дохода и наличие задолженности?
- Различается ли общий доход должников и ответственных заёмщиков?
- Какие закономерности можно обнаружить в столбце с трудовым стажем?

Для начала импортируем необходимые библиотеки. В этом небольшом проекте понадобятся всего три: pandas, matplotlib и seaborn.

```
# импортируем библиотеки
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# загружаем данные
data = pd.read_csv('/datasets/data.csv')
```
Выполним предобработку: 

- избавимся от аномальных значений в столбце с количеством детей,
- приведём все значения в столбце с образованием к нижнему регистру,
- заменим значения `1` и `0` в столбце с задолженностью на более понятные,
- в столбце со стажем заменим все отрицательные значения на положительные.
```
# избавляемся от аномальных значений в столбце с количеством детей
data = data.loc[(data['children'] != -1) & (data['children'] != 20)]
# столбец с образованием приводим к нижнему регистру
data['education'] = data['education'].str.lower()
# столбец с меткой о задолженности заменяем на более читаемый
data['debt'] = data['debt'].apply(lambda x: 'должник' if x == 1 else 'не должник')
# меняем в стаже все отрицательные числа на положительные
data['days_employed'] = data['days_employed'].abs()
```
### 1  Распределение доходов

Ответим на вопрос об изменении доходов. Распределение лучше всего смотреть на гистограмме. В библиотеке `seaborn` есть подходящий метод — `histplot()`. 

Напомним, что seaborn — это надстройка над matplotlib, поэтому инструменты этих двух библиотек можно комбинировать. Для настройки стиля графика и некоторых других параметров будем использовать `matplotlib`, а сам график построим с помощью `seaborn`.
```
# назначаем классический стиль для графика с помощью matplotlib
plt.style.use('classic')
# строим гистограмму для столбца total_income, добавив график кривой KDE
sns.histplot(x='total_income', data=data, kde=True)
# ограничиваем ось X для наглядности
plt.xlim(0, 500000)
# указываем заголовок графика и подписи осей средствами matplotlib
plt.title('Распределение дохода')
plt.xlabel('Значение')
plt.ylabel('Частота')
# отображаем график на экране
plt.show()
```
![изображение](https://user-images.githubusercontent.com/104757775/203422884-5321372f-5726-4f21-b566-5ca87a3ff885.png)

Для графика кривой KDE (от англ. kernel density estimate, «график оценки плотности ядра») понадобился один аргумент, а корзины гистограммы назначились автоматически. За остальные настройки отвечает библиотека matplotlib.

### 2  Связь между кредитами и количеством детей

Для отображения изменений — по времени или категориям — удобно использовать линейный график. Заранее сгруппируем данные и сформируем необходимую таблицу. Стиль графика назначим средствами библиотеки seaborn.
```
# готовим данные для подсчёта кредитов в зависимости от количества детей
data_ch = data.groupby('children')[['children']].count()
# применяем стиль whitegrid из библиотеки seaborn
sns.set_style('whitegrid')
# назначаем размер графика
plt.figure(figsize=(10, 4))
# строим линейный график средствами seaborn
sns.lineplot(x=data_ch.index, y='children', data=data_ch, marker='D')
# формируем заголовок графика и подписи осей средствами matplotlib
plt.title('График зависимости количества кредитов от количества детей')
plt.xlabel('Количество детей')
plt.ylabel('Количество кредитов')
# отображаем график на экране
plt.show()
```
![изображение](https://user-images.githubusercontent.com/104757775/203423067-14844a71-3cdb-4a10-93e3-139f3c4094a5.png)

График получился достаточно наглядным: видно, как падает число выданных кредитов в зависимости от числа детей в семье заёмщика. Возможно, это не связано с тем, что многодетные семьи реже берут кредиты. Скорее всего, семей без детей или с 1–2 детьми намного больше, чем многодетных. В таком случае стоит рассматривать относительные величины.

### 3  Связь между доходом и образованием

Теперь ответим на вопрос, влияет ли образование на уровень дохода и наличие задолженности. Попробуем отразить всё на одном графике. 

Построим столбчатую диаграмму и повернём её набок. Чтобы сформировать столбцы, сгруппируем данные по категориям образования и вычислим медианный доход. Параметру `hue` метода `barplot()` передадим категории задолженности.
```
# группируем данные по образованию и задолженности и считаем медианный доход
data_ed = data.groupby(['education', 'debt'], \
                        as_index = False)[['total_income']].median()
# используем стиль dark из библиотеки seaborn
sns.set_style('dark')
# назначаем размер графика
plt.figure(figsize=(10, 4))
# строим столбчатый график средствами seaborn
sns.barplot(x='total_income', y='education', data=data_ed, hue='debt')
# формируем заголовок графика и подписи осей средствами matplotlib
plt.title('График дохода в зависимости от образования')
plt.xlabel('Медианный доход')
plt.ylabel('Образование')
# поворачиваем подписи значений по оси X на 45 градусов
plt.xticks(rotation=45)
# выбираем положение легенды и указываем размер шрифта
plt.legend(loc='lower right', fontsize=10)
# добавляем сетку
plt.grid()
# отображаем график на экране
plt.show()
```
![изображение](https://user-images.githubusercontent.com/104757775/203423256-01a29524-dad8-4cc0-8980-4be030f865bd.png)

```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
```
